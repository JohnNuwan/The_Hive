# Docker Compose - THE HIVE Hybrid Infrastructure
# Only base databases and messaging
# ═══════════════════════════════════════════════════════════════════════════════

version: '3.8'

services:
  # --- INFRASTRUCTURE ---
  redis:
    image: redis:7-alpine
    container_name: hive-infra-redis
    ports: ["6379:6379"]
    command: redis-server --requirepass devpassword
    networks: ["hive-infra-net"]

  qdrant:
    image: qdrant/qdrant:latest
    container_name: hive-infra-qdrant
    ports: ["6333:6333"]
    networks: ["hive-infra-net"]

  timescaledb:
    image: timescale/timescaledb:latest-pg15
    container_name: hive-infra-timescale
    ports: ["5432:5432"]
    environment:
      - POSTGRES_USER=eva
      - POSTGRES_PASSWORD=devpassword
      - POSTGRES_DB=thehive
    networks: ["hive-infra-net"]

networks:
  hive-infra-net:
    driver: bridge
